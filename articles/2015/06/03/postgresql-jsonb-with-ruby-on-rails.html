<!DOCTYPE html><html><head><title>Ruby On Rails 使用 PostgreSQL jsonb - Hi, I'm Chareice.</title><meta charset=UTF-8 /><meta content="width=device-width, initial-scale=1.0, user-scalable=no" name=viewport /><link href="/images/favicon.ico" rel="shortcut icon"/><link href="/stylesheets/index.css" rel=stylesheet /><link href="//dn-chareicecnd.qbox.me/solarized_dark.css" rel=stylesheet /></head><body><header><a href="/" id=go-back-home><img alt=Home height=100 src="/images/blog_logo.png" width=100 /></a><p>Hi, I'm Chareice.</p><p>很高兴见到你</p></header><div id=container><div class=block><a href="/articles/tags/rabbitmq.html">RabbitMQ</a><a href="/articles/tags/java.html">Java</a><a href="/articles/tags/算法.html">算法</a><a href="/articles/tags/计算机科学基础.html">计算机科学基础</a><a href="/articles/tags/python.html">Python</a><a href="/articles/tags/ruby.html">Ruby</a><a href="/articles/tags/rails.html">Rails</a></div><div class=content><section class=post><header><div class=date>03 Jun 2015</div><h1>Ruby On Rails 使用 PostgreSQL jsonb</h1></header><div class=paragraph> <p>PostgreSQL 9.4版本推出了jsonb数据类型，jsonb可以在你的关系数据库中存储文档类型。jsonb和json类型在顶层看次来是类似的，但是底层的实现并不一样。</p> </div> <div class=paragraph> <p>使用jsonb类型的好处是你可以将关系数据库和非关系数据库结合起来。</p> </div> <div class=sect1> <h2 id="_理解json和jsonb的区别">理解json和jsonb的区别</h2> <div class=sectionbody> <div class=paragraph> <p>这两种数据类型有什么区别呢？在写入速度上，jsonb会略微比json慢。</p> </div> <div class=ulist> <ul> <li> <p>json类型实际上是将输入的内容直接以文本信息存储，当你要对该字段进行操作时，必须要一遍遍重复这个过程。它不支持索引，但是你可以自己创建查询表达式。</p> </li> <li> <p>jsonb以二进制形式存储信息，避免了重新分析数据结构。支持索引。</p> </li> </ul> </div> <div class=paragraph> <p>另一个区别是json类型每次都会重新分析存储的信息</p> </div> </div> </div></section></div><div class=block> <div id=disqus_thread></div> <div id=load_comments>Load Comments</div> </div> </div><footer><span class=muted>© Chareice. All Rights Reserved.</span><br/><span class=muted>This work is licensed under a <a href="//creativecommons.org/licenses/by-nc-sa/3.0/deed.zh">CC BY-NC-SA 3.0.</a></span><br/><span class=muted>赣ICP备14009574号-3</span></footer><script src="/javascripts/all.js"></script><script src="//dn-chareicecnd.qbox.me/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-39536235-1','auto');ga('send','pageview');</script> </body></html>